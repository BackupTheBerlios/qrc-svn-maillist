<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Qrc-svn] r171 - in qrc/tags: . 0.34.1 0.34.1/gaym/src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/qrc-svn/2005-July/index.html" >
   <LINK REL="made" HREF="mailto:qrc-svn%40lists.berlios.de?Subject=Re%3A%20%5BQrc-svn%5D%20r171%20-%20in%20qrc/tags%3A%20.%200.34.1%200.34.1/gaym/src&In-Reply-To=%3C200507081443.j68EhpFr030944%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000101.html">
   <LINK REL="Next"  HREF="000103.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Qrc-svn] r171 - in qrc/tags: . 0.34.1 0.34.1/gaym/src</H1>
    <B>David Everly at BerliOS</B> 
    <A HREF="mailto:qrc-svn%40lists.berlios.de?Subject=Re%3A%20%5BQrc-svn%5D%20r171%20-%20in%20qrc/tags%3A%20.%200.34.1%200.34.1/gaym/src&In-Reply-To=%3C200507081443.j68EhpFr030944%40sheep.berlios.de%3E"
       TITLE="[Qrc-svn] r171 - in qrc/tags: . 0.34.1 0.34.1/gaym/src">deckrider at berlios.de
       </A><BR>
    <I>Fri Jul  8 16:43:51 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000101.html">[Qrc-svn] r170 - qrc/trunk
</A></li>
        <LI>Next message: <A HREF="000103.html">[Qrc-svn] r172 - debian/gaim-qrc/branches/upstream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#102">[ date ]</a>
              <a href="thread.html#102">[ thread ]</a>
              <a href="subject.html#102">[ subject ]</a>
              <a href="author.html#102">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: deckrider
Date: 2005-07-08 16:43:50 +0200 (Fri, 08 Jul 2005)
New Revision: 171

Added:
   qrc/tags/0.34.1/
   qrc/tags/0.34.1/ChangeLog
   qrc/tags/0.34.1/configure.ac
   qrc/tags/0.34.1/gaym/src/configtxt.c
Removed:
   qrc/tags/0.34.1/ChangeLog
   qrc/tags/0.34.1/configure.ac
   qrc/tags/0.34.1/gaym/src/configtxt.c
Log:
Tagging 0.34.1


Copied: qrc/tags/0.34.1 (from rev 165, qrc/trunk)

Deleted: qrc/tags/0.34.1/ChangeLog
===================================================================
--- qrc/trunk/ChangeLog	2005-07-07 20:22:08 UTC (rev 165)
+++ qrc/tags/0.34.1/ChangeLog	2005-07-08 14:43:50 UTC (rev 171)
@@ -1,66 +0,0 @@
-0.34.0+svn:
-	New Features:
-	- none
-
-	Bug Fixes:
-	- Fixed protocol problem affecting member names beginning with
-	  non-alpha characters
-	- Fixed problem where &quot;|&quot; was replaced by &quot;.&quot; in Chat and IM
-	  messages
-	- Addressed several memory leaks
-
-	Preference Changes:
-	- none
-
-0.34.0:
-	New Features:
-	- Full win32 support for autotools and packaging
-	- Enabled and implemented all Gaim privacy hooks, including
-	  synchronization of ignore list with gay.com's server
-	- New /trace command to obtain IP address of a user
-	- New protocol icon
-	- Enabled &quot;Warn&quot;, mapping it to gay.com's &quot;Report User&quot; web
-	  form.
-	- New bot-challenger plugin to block unwanted IM pop-ups
-	- New roombrowse plugin (alpha).
-	- New chatsort plugin (alpha).
-	- Permit user to customize bot filtering strings (see preference
-	  changes below)
-
-	Bug Fixes:
-	- More cleanup/fix of autotools
-	- Code / documentation / repository cleanup / restructuring
-	- Fixed problems that caused invalid characters/commands to be
-	  sent to the server when checking to see if buddy list members
-	  were on line
-
-	Preference Changes:
-	- Number of chat room instances to display
-	- Enable/disable bot filtering in chat
-	- Modification of bot filtering strings
-	- Download and use GayBoi's spam list
-	- Removed entrance/exit notification option, since this is
-	  available in another plugin:  <A HREF="http://gaim-extprefs.sf.net/">http://gaim-extprefs.sf.net/</A>
-
-0.33.0:
-	New Features:
-	- Improved thumbnail grabs
-	- Green star in chat indicates photo
-	- Half green star in chat indicates adult photo
-	- Retrieve member created rooms
-	- Add protocol icon support
-
-	Bug Fixes:
-	- Fixed crash when user has no bio or profile
-	- Use copy for nick conversions
-	- Null/dangling pointer fixes
-	- Cleanup/fix of autotools
-	- Show special characters properly in roomlist
-	- Show error when non-member tries to create a new room
-
-	Preference Changes:
-	- Entrance/exit notification option
-	- Optional bio line in entrance notification
-
-0.21.0:
-	Initial Release.

Copied: qrc/tags/0.34.1/ChangeLog (from rev 170, qrc/trunk/ChangeLog)

Deleted: qrc/tags/0.34.1/configure.ac
===================================================================
--- qrc/trunk/configure.ac	2005-07-07 20:22:08 UTC (rev 165)
+++ qrc/tags/0.34.1/configure.ac	2005-07-08 14:43:50 UTC (rev 171)
@@ -1,149 +0,0 @@
-#                                               -*- Autoconf -*-
-# Process this file with autoconf to produce a configure script.
-
-AC_PREREQ(2.59)
-AC_INIT([qrc],[0.34.0+svn],[<A HREF="https://lists.berlios.de/mailman/listinfo/qrc-svn">gaymplugin at yahoogroups.com</A>])
-AC_CANONICAL_TARGET([])
-AM_INIT_AUTOMAKE([1.9.5 no-dist-gzip dist-bzip2])
-
-REQUIRED_PKG_CONFIG=&quot;0.15.0&quot;
-AC_SUBST(REQUIRED_PKG_CONFIG)
-
-REQUIRED_GAIM=&quot;gaim &gt;= 1.2 gaim &lt; 2.0&quot;
-AC_SUBST(REQUIRED_GAIM)
-
-REQUIRED_GTK=&quot;gtk+-2.0&quot;
-AC_SUBST(REQUIRED_GTK)
-
-AC_CONFIG_SRCDIR([gaym/src/gaym.h])
-AC_CONFIG_HEADER([config.h])
-
-AC_DEFINE(GAIM_PLUGINS, 1, [Define if plugins are enabled.])
-
-# Checks for programs.
-AC_PROG_CC
-AC_DISABLE_STATIC
-AC_LIBTOOL_WIN32_DLL
-AC_PROG_LIBTOOL
-LIBTOOL=&quot;$LIBTOOL --silent&quot;
-AC_PROG_INSTALL
-AC_PATH_PROG(PKG_CONFIG, [pkg-config], [no])
-
-if test x$PKG_CONFIG = xno ; then
-  AC_MSG_ERROR([*** pkg-config not found])
-fi
-
-# Build preferences
-AC_ARG_ENABLE([bot-challenger],
-	[AS_HELP_STRING(--enable-bot-challenger,build the bot-challenger plugin @&lt;:@default=yes@:&gt;@)],,
-	[enable_bot_challenger=&quot;yes&quot;])
-
-AC_ARG_ENABLE([chatsort],
-	[AS_HELP_STRING(--enable-chatsort,build the chatsort plugin @&lt;:@default=no@:&gt;@)],,
-	[enable_chatsort=&quot;no&quot;])
-
-AC_ARG_ENABLE([gaym],
-	[AS_HELP_STRING(--enable-gaym,build the gaym plugin @&lt;:@default=yes@:&gt;@)],,
-	[enable_gaym=&quot;yes&quot;])
-
-AC_ARG_ENABLE([roombrowse],
-	[AS_HELP_STRING(--enable-roombrowse,build the roombrowse plugin @&lt;:@default=no@:&gt;@)],,
-	[enable_roombrowse=&quot;no&quot;])
-
-AM_CONDITIONAL([COND_BOT_CHALLENGER], [test &quot;$enable_bot_challenger&quot; = &quot;yes&quot;])
-AM_CONDITIONAL([COND_CHATSORT], [test &quot;$enable_chatsort&quot; = &quot;yes&quot;])
-AM_CONDITIONAL([COND_GAYM], [test &quot;$enable_gaym&quot; = &quot;yes&quot;])
-AM_CONDITIONAL([COND_ROOMBROWSE], [test &quot;$enable_roombrowse&quot; = &quot;yes&quot;])
-
-if test &quot;$enable_bot_challenger&quot; != &quot;yes&quot; ; then
-	enable_bot_challener=&quot;no&quot;
-fi
-
-if test &quot;$enable_chatsort&quot; != &quot;yes&quot; ; then
-	enable_chatsort=&quot;no&quot;
-fi
-
-if test &quot;$enable_gaym&quot; != &quot;yes&quot; ; then
-	enable_gaym=&quot;no&quot;
-fi
-
-if test &quot;$enable_roombrowse&quot; != &quot;yes&quot; ; then
-	enable_roombrowse=&quot;no&quot;
-fi
-
-# Checks for libraries.
-PKG_PROG_PKG_CONFIG([$REQUIRED_PKG_CONFIG])
-if test &quot;$enable_chatsort&quot; = &quot;yes&quot; -o &quot;$enable_roombrowse&quot; = &quot;yes&quot; ; then
-	PKG_CHECK_MODULES([GTK], [$REQUIRED_GTK],
-		[
-		AC_SUBST(GTK_CFLAGS)
-		AC_SUBST(GTK_LIBS)
-		]
-	)
-fi
-PKG_CHECK_MODULES([GAIM], [$REQUIRED_GAIM],
-	[
-	AC_SUBST(GAIM_CFLAGS)
-	AC_SUBST(GAIM_LIBS)
-	]
-)
-AC_ARG_VAR([GAIM_DATADIR], [datadir of GAIM, overriding pkg-config])dnl
-AC_ARG_VAR([GAIM_LIBDIR], [libdir of GAIM, overriding pkg-config])dnl
-AC_CACHE_CHECK([for GAIM][_DATADIR], [pkg_cv_][GAIM][_DATADIR],
-	[_PKG_CONFIG([GAIM][_DATADIR], [variable=datadir], [gaim])])
-AC_CACHE_CHECK([for GAIM][_LIBDIR], [pkg_cv_][GAIM][_LIBDIR],
-	[_PKG_CONFIG([GAIM][_LIBDIR], [variable=libdir], [gaim])])
-GAIM[]_DATADIR=$pkg_cv_[]GAIM[]_DATADIR
-GAIM[]_LIBDIR=$pkg_cv_[]GAIM[]_LIBDIR
-AC_SUBST(GAIM_DATADIR)
-AC_SUBST(GAIM_LIBDIR)
-
-# Checks for header files.
-AC_HEADER_STDC
-AC_CHECK_HEADERS([stdlib.h string.h])
-
-# Checks for typedefs, structures, and compiler characteristics.
-AC_C_CONST
-AC_TYPE_SIZE_T
-
-# Checks for library functions.
-AC_CHECK_FUNCS([gethostname inet_ntoa memmove strcasecmp strchr strdup strerror strpbrk strrchr strstr strtoul])
-
-case &quot;$host&quot; in
-	*-*-mingw*)
-	CFLAGS=&quot;$CFLAGS -O2 -Wall -mno-cygwin -mms-bitfields&quot;
-	LIBS=&quot;$LIBS -no-undefined -Wl,--enable-auto-image-base -lws2_32&quot;
-	;;
-	*)
-	;;
-esac
-
-if test &quot;x$GCC&quot; = &quot;xyes&quot;; then
-	CFLAGS=&quot;$CFLAGS -Wall -g3&quot;
-fi
-AC_SUBST(CFLAGS)
-
-
-AC_CONFIG_FILES([Makefile
-                 bot-challenger/Makefile
-                 chatsort/Makefile
-                 gaym/Makefile
-                 gaym/pixmaps/Makefile
-                 gaym/src/Makefile
-                 nsis/Makefile
-		 nsis/locale/Makefile
-                 roombrowse/Makefile])
-AC_OUTPUT
-
-echo
-echo $PACKAGE $VERSION
-echo
-echo Build bot-challenger plugin...... : $enable_bot_challenger
-echo Build chatsort plugin............ : $enable_chatsort
-echo Build gaym plugin................ : $enable_gaym
-echo Build roombrowse plugin.......... : $enable_roombrowse
-echo
-echo Installation directory........... : $GAIM_LIBDIR/gaim
-echo
-echo configure complete, now type \'make\'
-echo

Copied: qrc/tags/0.34.1/configure.ac (from rev 170, qrc/trunk/configure.ac)

Deleted: qrc/tags/0.34.1/gaym/src/configtxt.c
===================================================================
--- qrc/trunk/gaym/src/configtxt.c	2005-07-07 20:22:08 UTC (rev 165)
+++ qrc/tags/0.34.1/gaym/src/configtxt.c	2005-07-08 14:43:50 UTC (rev 171)
@@ -1,111 +0,0 @@
-/**
- * GayM
- *
- * GayM is the legal property of its developers, whose names are too numerous
- * to list here.  Please refer to the COPYRIGHT file distributed with this
- * source distribution.
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 2 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
- */
-
-/* config.h */
-#ifdef HAVE_CONFIG_H
-#include &quot;config.h&quot;
-#endif
-
-/* system headers */
-#include &lt;glib.h&gt;
-
-/* gaim headers for this plugin */
-#include &quot;util.h&quot;
-#include &quot;debug.h&quot;
-#include &quot;account.h&quot;
-#include &quot;privacy.h&quot;
-
-/* local headers for this plugin */
-#include &quot;gaympriv.h&quot;
-#include &quot;gaym.h&quot;
-
-void synchronize_deny_list(GaimConnection * gc, const char *configtxt)
-{
-    char *srvdeny = NULL;
-    char *start = NULL;
-    char *end = NULL;
-    gchar **srvdenylist = NULL;
-    GSList *list;
-    gint i = 0;
-    gboolean needsync = FALSE;
-
-    start =
-        g_strstr_len(configtxt, -1, &quot;connect-list.ignore.members=&quot;) + 28;
-    end = g_strstr_len(start, -1, &quot;\n&quot;);
-    srvdeny = g_strndup(start, end - start);
-
-    srvdenylist = g_strsplit(srvdeny, &quot;,&quot;, -1);
-
-    /* Add server deny list from config.txt to local deny list */
-    for (i = 0; srvdenylist[i]; i++) {
-        needsync = TRUE;
-        for (list = gc-&gt;account-&gt;deny; list != NULL; list = list-&gt;next) {
-            if (!gaim_utf8_strcasecmp
-                (srvdenylist[i],
-                 gaim_normalize(gc-&gt;account, (char *) list-&gt;data))) {
-                needsync = FALSE;
-                break;
-            }
-        }
-        if (needsync) {
-            if (!gaim_privacy_deny_add(gc-&gt;account, srvdenylist[i], TRUE)) {
-                gaim_debug_error(&quot;gaym&quot;,
-                                 &quot;Failed to add %s to local deny list from server.\n&quot;,
-                                 srvdenylist[i]);
-            } else {
-                gaim_debug_misc(&quot;gaym&quot;,
-                                &quot;Added %s to local deny list from server.\n&quot;,
-                                srvdenylist[i]);
-            }
-        }
-    }
-
-    /* Add local deny list not found in config.txt to server deny list */
-    for (list = gc-&gt;account-&gt;deny; list != NULL; list = list-&gt;next) {
-        needsync = TRUE;
-        for (i = 0; srvdenylist[i]; i++) {
-            if (!gaim_utf8_strcasecmp
-                (srvdenylist[i],
-                 gaim_normalize(gc-&gt;account, (char *) list-&gt;data))) {
-                needsync = FALSE;
-                break;
-            }
-        }
-        if (needsync) {
-            gaym_server_store_deny(gc, (char *) list-&gt;data, TRUE);
-        }
-    }
-
-    g_strfreev(srvdenylist);
-    g_free(srvdeny);
-    return;
-}
-
-void process_configtxt(GaimConnection * gc, const char *configtxt)
-{
-    synchronize_deny_list(gc, configtxt);
-    return;
-}
-
-/**
- * vim:tabstop=4:shiftwidth=4:expandtab:
- */

Copied: qrc/tags/0.34.1/gaym/src/configtxt.c (from rev 166, qrc/trunk/gaym/src/configtxt.c)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000101.html">[Qrc-svn] r170 - qrc/trunk
</A></li>
	<LI>Next message: <A HREF="000103.html">[Qrc-svn] r172 - debian/gaim-qrc/branches/upstream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#102">[ date ]</a>
              <a href="thread.html#102">[ thread ]</a>
              <a href="subject.html#102">[ subject ]</a>
              <a href="author.html#102">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/qrc-svn">More information about the Qrc-svn
mailing list</a><br>
</body></html>
